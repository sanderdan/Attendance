<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
        >
<ui:composition template="template.xhtml">
    <ui:define name="content">
        <div class="container">
            <h:form>
                <h:commandButton
                        styleClass="btn-floating btn-large orange right-align"
                        value="back"
                        action="index"/>
            </h:form>

            <h2>Add Student</h2>
            <h:form>
                <div class="row">
                    <div class="input-field col s12 l4">
                        <h:outputLabel styleClass="white-text active" value="First Name: "/>
                        <h:inputText id="firstNameInput" value="#{studentBean.student.firstName}"/>
                        <h:message id="firstNameErrorMessage" styleClass="messageError" for="firstNameInput"/>
                    </div>
                    <div class="input-field col s12 l4">
                        <h:outputLabel styleClass="white-text active" value="Last Name: "/>
                        <h:inputText id="lastNameInput" value="#{studentBean.student.lastName}"/>
                        <h:message id="lastNameErrorMessage" styleClass="messageError" for="lastNameInput"/>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l4">
                        <h:outputLabel styleClass="white-text active" value="Phone Number: "/>
                        <h:inputText id="phoneNumberInput" value="#{studentBean.student.phoneNumber}"/>
                        <h:message id="phoneNumberErrorMessage" styleClass="messageError" for="phoneNumberInput"/>
                    </div>
                    <div class="input-field col s12 l4">
                        <h:outputLabel styleClass="white-text active" value="Email: "/>
                        <h:inputText id="emailInput" value="#{studentBean.student.email}">
                            <f:ajax event="blur" render="errorMessage"/>
                        </h:inputText>
                        <h:message id="emailErrorMessage" styleClass="messageError" for="emailInput"/>
                    </div>
                </div>

                <h:commandButton styleClass="btn-large right-align"
                                 value="Add"
                                 action="#{studentBean.addStudent}"/>
            </h:form>

            <div class="row">
                <div class="s12"/>
            </div>


            <h:dataTable styleClass="responsive-table green darken-2 z  -depth-1-half" value="#{studentBean.students}"
                         var="s">
                <h:column>
                    <f:facet name="header">ID</f:facet>
                    <h:outputText value="#{s.id}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">First Name</f:facet>
                    <h:outputText value="#{s.firstName}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Last Name</f:facet>
                    <h:outputText value="#{s.lastName}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Phone Number</f:facet>
                    <h:outputText value="#{s.phoneNumber}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Email</f:facet>
                    <h:outputText value="#{s.email}"/>
                </h:column>
            </h:dataTable>
        </div>

        <div class="row"/>

    </ui:define>
</ui:composition>
</html>
